<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>SpaceShip</title>
	<link rel="stylesheet" href="css/style.css">
	<script src="javascript/Animation.js"></script>
	<script src="javascript/Keyboard.js"></script>	
	<script src="javascript/Spritesheet.js"></script>
	<script src="javascript/Parallax.js"></script>
	<script src="javascript/SpaceShip.js"></script>
	<script>
	window.onload = function(){

		
		var canvas = document.getElementById("game");
		canvas.style.backgroundColor = 'black';
		var context = canvas.getContext("2d");
		var animation = new Animation(context);

		var images = {
			ship: 'img/sprite_spaceship.png',
			BgSpace: 'img/bg-space.png',
			BgCloud: 'img/bg-clouds.png',
			BgStars: 'img/bg-stars.png'
		}

		for(var i in images){
			var img = new Image();
			img.src = images[i];
			images[i] = img;
		}

		

		var keyboard = new Keyboard(document);
		
		var bgSpace = new Parallax(context, images.BgSpace);
		bgSpace.speed = 1;

		var bgStars = new Parallax(context, images.BgStars);
		bgStars.speed = 2;

		var bgCloud = new Parallax(context, images.BgCloud);
		bgCloud.speed = 3;
		
		var ship = new SpaceShip(context, keyboard, images.ship);
		animation.newSprite(bgSpace);
		animation.newSprite(bgStars);
		animation.newSprite(bgCloud);
		animation.newSprite(ship);
		animation.play();
	};
	</script>
</head>
<body>
	<canvas id="game" width="500" height="500">Seu navegador NÃ£o da suporte a canvas</canvas>
</body>
</html>